<div
    id="content-news-wrapper"
    hx-get="/features/community/content/partials/news"
    hx-trigger="refreshContentTables from:body"
    hx-target="#content-news-wrapper"
    hx-swap="outerHTML">
    {% if news_items %}
    <div class="table-responsive">
        <table class="table table-vcenter">
            <thead>
                <tr>
                    <th>Headline</th>
                    <th>Source</th>
                    <th>Publish Date</th>
                    <th class="text-end" style="width: 140px;">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for news in news_items %}
                <tr>
                    <td>
                        <div class="fw-semibold">{{ news.headline }}</div>
                        <div class="text-muted small text-truncate" style="max-width: 420px;">
                            {{ news.summary or news.url }}
                        </div>
                    </td>
                    <td class="text-muted">{{ news.source or '—' }}</td>
                    <td class="text-muted">
                        {% if news.publish_date %}
                            {{ news.publish_date.strftime("%b %d, %Y") }}
                        {% else %}
                            —
                        {% endif %}
                    </td>
                    <td class="text-end">
                        <a href="{{ news.url }}" target="_blank" class="btn btn-link btn-icon text-secondary p-0" title="Open link">
                            <i class="ti ti-external-link"></i>
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="p-4 text-center text-muted">
        <div class="mb-2">
            <i class="ti ti-news-off icon-lg"></i>
        </div>
        <p class="mb-1 fw-semibold">No news items added yet.</p>
        <p class="mb-0">Collect industry headlines to keep advisors informed.</p>
    </div>
    {% endif %}
</div>

<input type="hidden" name="recipient_id" id="new_recipient_id" value="{{ recipient_id }}" hx-swap-oob="true">
<input
  type="text"
  name="recipient_label"
  id="new_recipient_label"
  value="{{ label }}"
  class="form-control"
  placeholder="Type a name or email"
  hx-swap-oob="true"
  hx-get="/features/community/messages/partials/recipients"
  hx-trigger="input changed delay:400ms, keyup[key=='Enter']"
  hx-target="#new-recipient-results"
  hx-swap="innerHTML"
  autocomplete="off"
>
<div id="new-recipient-results"></div>
<script>
  const input = document.getElementById('new_recipient_label');
  if (input) {
    const len = input.value.length;
    input.focus();
    input.setSelectionRange(len, len);
  }
</script>
